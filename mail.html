<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>ç™¾äººä¸€ç¬æš—è¨˜ </title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="hero-left"></div>
    <div class="hero-right"></div>
    <header>
        <button class="open-sidebar-btn" onclick="openNav()">&#9776;</button>
        <h1>
            <img src="images/karuta.png" alt="" class="header-icon">
            ç™¾äººä¸€ç¬æš—è¨˜
        </h1>
         <!-- æ–°è¦è¿½åŠ : ãƒ­ã‚°ã‚¤ãƒ³ãƒ»æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³ã®ã‚³ãƒ³ãƒ†ãƒŠ -->
        <div class="auth-buttons">
            <button onclick="handleLogin()">ãƒ­ã‚°ã‚¤ãƒ³</button>
            <button onclick="handleRegister()">æ–°è¦ç™»éŒ²</button>
        </div>
             <div class="font-size-controls">
            <button id="font-size-small-btn">å°</button>
            <button id="font-size-medium-btn" class="active">ä¸­</button>
            <button id="font-size-large-btn">å¤§</button>
        </div>
        <div class="header-right-spacer"></div> </header>

    <div id="mySidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <ul>
            <li><a href="start.html" onclick="closeNav()">ãƒ›ãƒ¼ãƒ </a></li>
            <li><a href="list.html" onclick="closeNav()">å¥ä¸€è¦§</a></li>
            <li><a href="weak-poems.html" onclick="closeNav()">è‹¦æ‰‹å¥ãƒªã‚¹ãƒˆ</a></li>
            <li><a href="about.html" onclick="closeNav()">ã“ã®ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦</a></li>
            <li><a href="privacy.html" onclick="closeNav()">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a></li>
            <li><a href="mail.html" onclick="closeNav()">ãŠå•ã„åˆã‚ã›</a></li>
        </ul>
    </div>

    <div id="sidebarOverlay" class="overlay" onclick="closeNav()"></div>

    <div class="contact-container">
        <h2>ãŠå•ã„åˆã‚ã›</h2>
        <p>ã”æ„è¦‹ã€ã”æ„Ÿæƒ³ã€ä¸å…·åˆå ±å‘Šãªã©ã€ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚</p>
       <form action="http://localhost:8000/contact/api" method="POST"></form>

            <input type="text" id="name" name="name" placeholder="ä¾‹ï¼šå±±ç”° å¤ªéƒ" required aria-required="true">
            <span id="nameError" class="error-message"></span>

            <label for="email" class="required">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
            <input type="email" id="email" name="email" placeholder="ä¾‹ï¼šyour.email@example.com" required aria-required="true">
            <span id="emailError" class="error-message"></span>

            <label for="subject">ä»¶å</label>
            <input type="text" id="subject" name="subject" placeholder="ä¾‹ï¼šã‚¢ãƒ—ãƒªã¸ã®ã”æ„è¦‹">

            <label for="message" class="required">ãŠå•ã„åˆã‚ã›å†…å®¹</label>
            <textarea id="message" name="message" placeholder="å…·ä½“çš„ãªå†…å®¹ã‚’ã”è¨˜å…¥ãã ã•ã„" rows="5" required aria-required="true"></textarea>
            <span id="messageError" class="error-message"></span>

            <button type="submit" id="submitButton">é€ä¿¡</button>
        </form>
    </div>

    <footer>
        &copy; <span id="currentYear"></span> hyakuninnissyunanki
    </footer>

    <script>
        // --- æ–‡å­—ã‚µã‚¤ã‚ºå¤‰æ›´æ©Ÿèƒ½ ---
        // htmlè¦ç´ ã‚’å–å¾—
        const html = document.documentElement;
        const smallBtn = document.getElementById('font-size-small-btn');
        const mediumBtn = document.getElementById('font-size-medium-btn');
        const largeBtn = document.getElementById('font-size-large-btn');
        const sizeButtons = [smallBtn, mediumBtn, largeBtn];
        
        // æ–‡å­—ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã™ã‚‹é–¢æ•°
        function changeFontSize(size) {
            // htmlè¦ç´ ã‹ã‚‰æ—¢å­˜ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚¯ãƒ©ã‚¹ã‚’ã™ã¹ã¦å‰Šé™¤
            html.classList.remove('font-size-small', 'font-size-medium', 'font-size-large');
            // æ–°ã—ã„ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
            html.classList.add(`font-size-${size}`);
            
            // å…¨ã¦ã®ãƒœã‚¿ãƒ³ã‹ã‚‰activeã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
            sizeButtons.forEach(btn => btn.classList.remove('active'));
            // é¸æŠã•ã‚ŒãŸãƒœã‚¿ãƒ³ã«activeã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
            document.getElementById(`font-size-${size}-btn`).classList.add('active');
        }
        
        // å„ãƒœã‚¿ãƒ³ã«ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ 
        smallBtn.addEventListener('click', () => changeFontSize('small'));
        mediumBtn.addEventListener('click', () => changeFontSize('medium'));
        largeBtn.addEventListener('click', () => changeFontSize('large'));
        
        // åˆæœŸè¨­å®šï¼šä¸­ã‚µã‚¤ã‚ºã‚’é©ç”¨
        changeFontSize('medium');
        
        // ç¾åœ¨ã®å¹´ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã™ã‚‹JavaScript
        document.getElementById("currentYear").textContent = new Date().getFullYear();
    
        // ã‚µã‚¤ãƒ‰ãƒãƒ¼é–¢é€£é–¢æ•°ï¼ˆæ—¢å­˜ã®ã‚‚ã®ã‚’æµç”¨ï¼‰
        const sidebar = document.getElementById("mySidebar");
        const openSidebarBtn = document.querySelector(".openbtn");
        const closeSidebarBtn = document.querySelector(".closebtn");
        const overlay = document.getElementById("sidebarOverlay");
        const sidebarLinks = sidebar.querySelectorAll('ul li a');
        const header = document.querySelector('header');

        function setBodyPaddingTop() {
            const headerHeight = header.offsetHeight;
            document.body.style.paddingTop = `${headerHeight}px`;
            sidebar.style.paddingTop = `${headerHeight}px`;
        }

        function openNav() {
            sidebar.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden'; // èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç¦æ­¢
            openSidebarBtn.setAttribute('aria-expanded', 'true');
        }

        function closeNav() {
            sidebar.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = ''; // èƒŒæ™¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’è¨±å¯
            openSidebarBtn.setAttribute('aria-expanded', 'false');
        }

        // debounceé–¢æ•°ï¼ˆãƒªã‚µã‚¤ã‚ºã‚¤ãƒ™ãƒ³ãƒˆãªã©ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šï¼‰
        function debounce(func, delay) {
            let timeout;
            return function(...args) {
                const context = this;
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(context, args), delay);
            };
        }

        // åˆæœŸåŒ–å‡¦ç†
        document.addEventListener("DOMContentLoaded", function() {
            setBodyPaddingTop(); // ãƒ˜ãƒƒãƒ€ãƒ¼ã®é«˜ã•ã«åˆã‚ã›ã¦padding-topã‚’è¨­å®š
            document.getElementById("currentYear").textContent = new Date().getFullYear(); // ãƒ•ãƒƒã‚¿ãƒ¼ã®å¹´ã‚’æ›´æ–°
        });

        window.addEventListener('resize', debounce(setBodyPaddingTop, 100)); // ãƒªã‚µã‚¤ã‚ºæ™‚ã«ã‚‚padding-topã‚’èª¿æ•´

        // ã‚µã‚¤ãƒ‰ãƒãƒ¼é–¢é€£ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        openSidebarBtn.addEventListener('click', openNav);
        closeSidebarBtn.addEventListener('click', closeNav);
        overlay.addEventListener('click', closeNav);
        sidebarLinks.forEach(link => {
            link.addEventListener('click', closeNav);
        });


    // --- ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã®å…¥åŠ›æ¤œè¨¼ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰ ---
    const contactForm = document.getElementById('contactForm');
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('email');
    const messageInput = document.getElementById('message');
    const submitButton = document.getElementById('submitButton');

    const nameError = document.getElementById('nameError');
    const emailError = document.getElementById('emailError');
    const messageError = document.getElementById('messageError');

    // å…¨ã¦ã®å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç›£è¦–ã—ã€å…¥åŠ›ãŒå¤‰æ›´ã•ã‚Œã‚‹ãŸã³ã«æ¤œè¨¼ã‚’è¡Œã†
    [nameInput, emailInput, messageInput].forEach(input => {
        input.addEventListener('input', validateForm);
    });

    function validateForm() {
        validateName();
        validateEmail();
        validateMessage();
        // ğŸš« ãƒœã‚¿ãƒ³ã®æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆã¯å‰Šé™¤
    }

    function validateName() {
        if (nameInput.value.trim() === '') {
            nameError.textContent = 'ãŠåå‰ã¯å¿…é ˆã§ã™ã€‚';
            return false;
        }
        nameError.textContent = '';
        return true;
    }

    function validateEmail() {
        const email = emailInput.value.trim();
        if (email === '') {
            emailError.textContent = 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…é ˆã§ã™ã€‚';
            return false;
        }
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(email)) {
            emailError.textContent = 'æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚';
            return false;
        }
        emailError.textContent = '';
        return true;
    }

    function validateMessage() {
        if (messageInput.value.trim() === '') {
            messageError.textContent = 'ãŠå•ã„åˆã‚ã›å†…å®¹ã¯å¿…é ˆã§ã™ã€‚';
            return false;
        }
        messageError.textContent = '';
        return true;
    }

    // ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã®å‡¦ç†
    contactForm.addEventListener('submit', function(event) {
        event.preventDefault();

        // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµæœã‚’ãƒã‚§ãƒƒã‚¯ï¼ˆã‚¨ãƒ©ãƒ¼ãŒã‚ã£ã¦ã‚‚é€ä¿¡ã¯å¯èƒ½ï¼‰
        const isNameValid = validateName();
        const isEmailValid = validateEmail();
        const isMessageValid = validateMessage();

        if (!isNameValid || !isEmailValid || !isMessageValid) {
            alert('å…¥åŠ›å†…å®¹ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™ãŒé€ä¿¡ã—ã¾ã—ãŸã€‚');
        } else {
            alert('ãŠå•ã„åˆã‚ã›å†…å®¹ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼');
        }

        // å®Ÿéš›ã®é€ä¿¡å‡¦ç†ã‚’æ›¸ãå ´æ‰€ï¼ˆç¾çŠ¶ã¯ãƒ‡ãƒ¢ç”¨ï¼‰
        contactForm.reset(); // å…¥åŠ›å†…å®¹ã‚’ãƒªã‚»ãƒƒãƒˆ
        // ğŸš« submitButton.disabled = true; â† å‰Šé™¤
        nameError.textContent = '';
        emailError.textContent = '';
        messageError.textContent = '';
    });

    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«åˆæœŸãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    document.addEventListener('DOMContentLoaded', validateForm);


         // --- æ–°è¦è¿½åŠ : ãƒ­ã‚°ã‚¤ãƒ³ãƒ»æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³ã®ãƒ€ãƒŸãƒ¼é–¢æ•° ---
        // ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°
        function handleLogin() {
            console.log("ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸã€‚");
            // ã“ã“ã«Pythonã®ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’å‘¼ã³å‡ºã™å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚
            // ç¾æ™‚ç‚¹ã§ã¯ãƒ‡ã‚¶ã‚¤ãƒ³ã®ã¿ãªã®ã§ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
        }

        // æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°
        function handleRegister() {
            console.log("æ–°è¦ç™»éŒ²ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸã€‚");
            // ã“ã“ã«Pythonã®æ–°è¦ç™»éŒ²æ©Ÿèƒ½ã‚’å‘¼ã³å‡ºã™å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚
            // ç¾æ™‚ç‚¹ã§ã¯ãƒ‡ã‚¶ã‚¤ãƒ³ã®ã¿ãªã®ã§ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
        }
    </script>
</body>
</html>